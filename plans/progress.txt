
## 2026-01-14 - feat-003
- Implemented delete all tasks feature with confirmation modal
- Added deleteAllTasks to repository layer (simple DELETE FROM tasks)
- Extended IKanbanService interface with deleteAllTasks method
- Added deleteAllTasks mutation to kanban tRPC router
- Added red "Clear All" button to board header (disabled when no tasks)
- Used existing Modal component for confirmation dialog
- Wired deleteAllTasks mutation with query invalidation
- Files changed:
  - packages/server/src/kanban/repository.ts (deleteAllTasks)
  - packages/api/src/context.ts (interface)
  - packages/api/src/routers/kanban.ts (mutation)
  - packages/server/src/kanban/trpc-service.ts (deleteAllTasks impl)
  - packages/web/src/App.tsx (Clear All button + confirmation modal)
- **Learnings:**
  - Reusing Modal component keeps UI consistent
  - Button disabled state based on tasks.length for UX
  - API package rebuild required before dependent packages can see new types
---

## 2026-01-14 - feat-002
- Created reusable Modal component with Modal and ModalButton exports
- Modal accepts: isOpen, onClose, title, children, footer (ReactNode)
- ModalButton accepts: onClick, disabled, variant (primary/secondary), children
- Refactored WorkingDirectoryModal to use new Modal component
- Files changed:
  - packages/web/src/components/Modal.tsx (new)
  - packages/web/src/App.tsx (modified)
- **Learnings:**
  - Modal uses composition pattern via children+footer props instead of rigid props
  - ModalButton variant approach allows consistent styling across modals
  - Components directory created for future UI components
---

## 2026-01-14 - feat-001
- Implemented full task creation flow from UI to database
- Added CreateTaskInputSchema with zod validation (category enum, title, description, steps array)
- Added createTask mutation to kanban tRPC router
- Extended IKanbanService interface with createTask method
- Implemented getNextTaskId helper to generate sequential IDs (feat-001, feat-002, etc.)
- Implemented createTask in repository layer
- Created CreateTaskModal component with dynamic steps list
- Added '+' button to Todo column header via onAddClick prop
- Wired createTask mutation in App component with query invalidation
- Files changed:
  - packages/api/src/routers/kanban.ts (schema + mutation)
  - packages/api/src/context.ts (interface)
  - packages/api/src/index.ts (exports)
  - packages/server/src/kanban/repository.ts (getNextTaskId, createTask)
  - packages/server/src/kanban/trpc-service.ts (createTask impl)
  - packages/web/src/components/CreateTaskModal.tsx (new)
  - packages/web/src/App.tsx (Column update, modal wiring)
- **Learnings:**
  - API package needs rebuild after adding new exports for dependent packages to see types
  - Task ID generation uses category-based prefix with zero-padded sequential numbers
  - Column component now supports optional onAddClick for extensibility
  - trpc.useUtils() provides invalidation mechanism for cache refresh
---
